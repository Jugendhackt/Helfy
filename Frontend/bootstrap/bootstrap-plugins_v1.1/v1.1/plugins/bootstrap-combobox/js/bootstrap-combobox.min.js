/*!
 * Bootstrap-Plugins Library v1
 * http://bootstrap-plugins.de/
 *
 * Copyright 2015 Bootstrap-Plugins
 * Released under the MIT license
 * https://opensource.org/licenses/MIT
 *
 * Date: 2015-12-21T19:57Z
 */
var selectedIndex=[],selectedElement=[],version="v1.1";!function(t){t.fn.combobox=function(e){drawOptions=function(e,i,o,s){var a='<div style="width: '+i.parent().parent().width()+'px;" class="list-group bootstrap-combobox-list-group" id="'+e+'_list">';if(o.length>0)for(var n=-1;++n<o.length;){var r=o[n];a+='<a href="javascript:void(0)" class="list-group-item bootstrap-combobox-list-group-item" data-value="'+r.value+'" data-label="'+r.label_org+'" data-field-id="'+e+'">'+r.label+"</a>"}else a+='<span class="list-group-item">'+l+"</span>";a+="</div>",i.parent().parent().append(a),t("#"+s).trigger(t.Event("openDropDownList")),t(".bootstrap-combobox-list-group-item").click(function(){var i=t(this).data(),l=t("#"+e);selectedElement[e]=i.value,t("#"+i.fieldId).val(i.label),l.val(i.label),t("#"+s+' option[value="'+i.value+'"]').attr("selected","selected"),t("#"+s).trigger(t.Event("selectDropDownListItem",{value:i.value})),removeList(e+"_list",e,s)})},getAllOptions=function(t,e){for(var i=[],l=new RegExp("("+t+")","gi"),o=-1;++o<e.length;){var s=e[o],a=s.label,n=a.match(l);if(n&&n.length>0||null==t){n&&n.length>0&&(a=a.replace(l,"<strong>$1</strong>"));var r=[];r.label=a,r.label_org=s.label,r.value=s.value,i.push(r)}}return i},removeList=function(e,i,l){selectedIndex[i]=-1,selectedElement[i]=null,t("#"+e).remove(),t("#"+l).trigger(t.Event("closeDropDownList"))};var i=e&&e.hasOwnProperty("arrow")?e.arrow:"⬇",l=e&&e.hasOwnProperty("nothing_found_message")?e.nothing_found_message:"Nothing found";return t("head").append('<link rel="stylesheet" type="text/css" media="all" href="http://cdn.bootstrap-plugins.de/'+version+'/plugins/bootstrap-combobox/css/bootstrap-combobox.min.css">'),t(this).each(function(){var e=t(this);e.hide(),e.css("position","relative"),e.attr("id")||e.attr("id",guid());var l=guid(),o=guid(),s=guid(),a=e.attr("id"),n=e.val();selectedElement[o]=null,selectedIndex[o]=-1;var r,d,p='<div class="input-group bootstrap-combobox" id="'+l+'">	<input type="text" value="'+n+'" id="'+o+'" data-id-input="'+a+'" class="form-control" aria-describedby="'+s+'" class="bootstrap-combobox">	<span class="input-group-addon bootstrap-combobox-addon" data-id-input="'+a+'" data-id-element="'+o+'" id="'+s+'">'+i+"︎︎</span></div>";return e.parent().append(p),t("#"+s).click(function(){var e=t(this).data(),i=e.idElement,l=t("#"+e.idInput).find("option");if(t("#"+i+"_list").length>0)removeList(i+"_list",i,e.idInput);else{var o=getAllOptions(null,l);drawOptions(i,t("#"+i),o,e.idInput)}}),t("#"+o).on("input",function(){var i=t(this).data(),l=i.idInput,o=t("#"+l).find("option");if(r=t(this).val(),d=t(this).attr("id"),t("#"+e.attr("id")+" option:selected").removeAttr("selected"),t("#"+e.attr("id")+' option[value="'+r+'"]').attr("selected","selected"),removeList(d+"_list",d,l),r){var s=getAllOptions(r,o);drawOptions(d,t(this),s,l)}}).on("keydown",function(e){if(r=t(this).val(),d=t(this).attr("id"),(40==e.which||38==e.which)&&t("#"+d+"_list").length>0){var i;t("#"+d+"_list a.bootstrap-combobox-list-group-item").each(function(l,o){selectedIndex[d]==l&&t(this).removeClass("active"),40==e.which?selectedIndex[d]+1==l&&(i=t(this)):selectedIndex[d]-1==l&&(i=t(this))}),i&&(40==e.which?++selectedIndex[d]:--selectedIndex[d]),i&&(i.addClass("active"),t("#"+d+"_list").scrollTop(t("#"+d+"_list").scrollTop()+i.position().top-t("#"+d+"_list").height()+i.height()+40),selectedElement[d]=i)}else if(40==e.which&&0==t("#"+d+"_list").length){var l=t(this).data(),o=l.idInput,s=t("#"+o).find("option"),a=getAllOptions(null,s);drawOptions(d,t("#"+d),a,o)}else 13==e.which&&selectedIndex[d]>=0&&(e.preventDefault(),selectedElement[d].click())}),t(this)}),t(this)}}(jQuery);