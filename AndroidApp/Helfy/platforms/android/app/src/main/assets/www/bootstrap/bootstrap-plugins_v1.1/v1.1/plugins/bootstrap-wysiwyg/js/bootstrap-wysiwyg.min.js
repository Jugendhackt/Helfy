/*!
 * Bootstrap-Plugins Library v1
 * http://bootstrap-plugins.de/
 *
 * Copyright 2015 Bootstrap-Plugins
 * Released under the MIT license
 * https://opensource.org/licenses/MIT
 *
 * Date: 2015-12-21T19:57Z
 */
var fontAwesomeLoaded=!1;!function(t){t.fn.wysiwyg=function(e){if(!fontAwesomeLoaded){fontAwesomeLoaded=!0;var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.media="all",n.href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(n)}createBtnGroup=function(t,e){e.append('<div id="'+t+'" class="btn-group"></div>')},addButton=function(e,n,i,a){t("#"+e).append('<a class="btn btn-default" data-edit="'+n+'" title="'+i+'"><i class="'+a+'"></i></a>')},addlink=function(e,n,i,a,o){t("#"+e).append('<a class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" title="'+i+'"><i class="'+a+'"></i></a><div class="dropdown-menu input-append">	<div class="row" style="padding: 10px">		<div class="col-md-12">			<div class="form-group">				<label>URL</label>				<input id="'+o+'" class="form-control" type="text" data-edit="'+n+'"/>			</div>			<button class="btn btn-default" type="button" data-id="'+o+'">Add</button>		</div>	</div></div>')},getCurrentRange=function(){var t=window.getSelection();return t.getRangeAt&&t.rangeCount?t.getRangeAt(0):void 0},saveSelection=function(t){a[t]=getCurrentRange()},updateToolbox=function(e,n){for(var i=-1;++i<n.length;){var a=n[i],o=t("#"+e+' a[data-edit="'+a+'"]');document.queryCommandState(a)?o.addClass("active"):o.removeClass("active")}},getGroupName=function(t,e){for(var n=-1;++n<o.length;){var i=o[n];if(-1!=i.indexOf(t))return i.toString().replace(/,/g,"_")+"_"+e}return""},setSelection=function(t){var e=window.getSelection();if(a){try{e.removeAllRanges()}catch(n){document.body.createTextRange().select(),document.selection.empty()}e.addRange(a[t])}};var a=[],o=[];o.push(["bold","italic","underline","strikethrough"]),o.push(["insertunorderedlist","insertorderedlist"]),o.push(["outdent","indent"]),o.push(["justifyleft","justifyright","justifycenter","justifyfull"]),o.push(["hyperlink"]),o.push(["unlink"]),o.push(["picture"]),o.push(["undo","redo"]);var d=[];return d.bold="bold",d.italic="italic",d.underline="underline",d.strikethrough="strikethrough",d.insertorderedlist="list-ol",d.insertunorderedlist="list-ul",d.outdent="outdent",d.indent="indent",d.justifyleft="align-left",d.justifyright="align-right",d.justifycenter="align-center",d.justifyfull="align-justify",d.undo="undo",d.redo="repeat",d.picture="file-image-o",d.hyperlink="link",d.unlink="chain-broken",t(this).each(function(){var n=["hyperlink","picture"],a=t(this).html();t(this).html("");var r=guid(),l=guid();t(this).append('<div id="'+r+'" class="btn-toolbar bp_toolbar" data-role="editor-toolbar" style="margin-top: 10px;"></div>'),t(this).append('<div id="'+l+'" class="bp_content_editor" style="border: 1px solid silver; overflow:scroll; max-height: 300px; margin-top: 10px; margin-bottom: 10px; padding: 5px; outline: none; min-height: 300px; background-color: #ffffff;" contenteditable="true">'+a+"</div>");var s=t("#"+l),u=t("#"+r),c=[];for(i=-1;++i<o.length;)c=c.concat(o[i]);s.on("mouseup keyup mouseout",function(){saveSelection(r),updateToolbox(r,c)});for(var p=-1;++p<c.length;){var f=c[p],g=getGroupName(f,r);e&&e.hasOwnProperty(f)&&1!=e[f]||(u.find(g)&&createBtnGroup(g,u),-1==n.indexOf(f)?addButton(g,f,f,"fa fa-"+d[f]):addlink(g,f,f,"fa fa-"+d[f],f))}return t("#"+r+" button").click(function(){var e=t(this).data(),n=t("#"+e.id),i=n.data(),a=n.val();""!=a&&(setSelection(r),"picture"==i.edit?document.execCommand("insertimage",!1,a):document.execCommand("createLink",!1,a),n.val(""))}),t("#"+r+" a:not(.dropdown-toggle)").click(function(){var e=t(this).data();document.execCommand(e.edit),updateToolbox(r,c)}),t(this)}),t(this)}}(jQuery);